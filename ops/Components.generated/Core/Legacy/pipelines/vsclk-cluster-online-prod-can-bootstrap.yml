# pipeline vsclk-cluster-online-prod-can-bootstrap.yml

variables:
  - template: variables/vsclk-cluster-online-prod-can-variables.yml

name: ${{ variables.nameFormat }}

stages:
  - template: templates/deploy-cluster-bootstrap-stages.yml
    parameters:
      pool: ${{ variables.linuxPool }}
      serviceSubscription: ${{ variables.serviceSubscription }}
      servicePrefix: ${{ variables.servicePrefix }}
      serviceName: ${{ variables.serviceName }}
      serviceEnv: ${{ variables.serviceEnv }}
      serviceInstance: ${{ variables.serviceInstance }}
      serviceLocation: ${{ variables.serviceLocation }}
      dnsName: ${{ variables.dnsName }}
      teamGroupId: ${{ variables.teamGroupId }}
      sslCertKeyvaultName: ${{ variables.sslCertKeyvaultName }}
      sslCertSecrets: ${{ variables.sslCertSecrets }}
      clusterVersion: ${{ variables.clusterVersion }}
      clusterNodeCount: ${{ variables.clusterNodeCount }}
      signlrEnabled: ${{ variables.signlrEnabled }}
      signlrCapacity: ${{ variables.signlrCapacity }}
      signlrCapacitySecondary: ${{ variables.signlrCapacitySecondary }}
      regions:
        - usec
      portForwardingEnabled: ${{ variables.portForwardingEnabled }}

trigger:
  batch: false
  branches:
    include:
      - "master"
      - "releases/online/*"
  paths:
    include:
      - "src/*"
