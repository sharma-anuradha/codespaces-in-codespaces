<MonitoringManagement version="1.0" namespace="VsOnlinePpe" timestamp="2018-05-07T00:00:00Z" eventVersion="1">
  <Accounts>
    <Account isDefault="true" moniker="vsonlineppediag" />
    <Account moniker="vsonlineppesecurity" alias="SecurityStore" />
    <Account moniker="vsonlineppeaudit" alias="AuditStore" />
  </Accounts>
  <!-- Linux mdsd usage documentation: https://jarvis.dc.ad.msft.net/?page=documents&section=1363da01-b6ed-43d4-970e-f89b011d591f&id=89b7a7f4-8cf1-4a76-b541-478d37fc760f  -->
  <Management defaultRetentionInDays="90" eventVolume="Large">
    <!--
      The identity TenantRole means MONITORING_IDENTITY, MONITORING_ROLE, and MONITORING_ROLE_INSTANCE will
      uniquely identify any of your instances
    -->
    <Identity>
      <IdentityComponent name="Tenant">null</IdentityComponent>
      <IdentityComponent name="Role">null</IdentityComponent>
      <IdentityComponent name="RoleInstance">null</IdentityComponent>
      <IdentityComponent name="MachineName">null</IdentityComponent>
    </Identity>
    <!--
      The diskQuotaInMB is a required parameter.  For 10,000 MB there should be 15,000 MB available on the disk  The CPU, memory and network can also be limited in the
      AgentResourceUsage element's attributes.
    -->
    <AgentResourceUsage diskQuotaInMB="50000" cpuPercentUsage="50" />
    <AgentMetrics mdmMonitoringAccount="VsOnlinePpe" />
  </Management>
  <!-- Linux events documentation: https://jarvis.dc.ad.msft.net/?page=documents&section=9c95f4eb-8689-4c9f-81bf-82d688e860fd&id=762a440d-3a1e-4ff3-86d6-03c491c163b2   -->
  <!--
      Events can contain one or more Event elements.  The Event elements each describe a different kind of collector.
      Events must be defined in the order of the mds2.xsd.
  -->
  <Events>
    <EventDeclarations storeType="CentralBond">
      <Declaration eventName="LinuxAsmHeartbeat" account="SecurityStore" />
      <Declaration eventName="LinuxAsmBaseline" account="SecurityStore" />
      <Declaration eventName="LinuxAsmSoftware" account="SecurityStore" />
      <Declaration eventName="LinuxAsmClamav" account="SecurityStore" />
      <Declaration eventName="LinuxAsmSyslog" account="SecurityStore" />
      <Declaration eventName="LinuxAsmSecurity" account="SecurityStore" />
      <Declaration eventName="LinuxAsmScanEvent" account="SecurityStore" />
      <Declaration eventName="LinuxAsmAlert" account="SecurityStore" />
      <Declaration eventName="LinuxAsmAudit" account="SecurityStore" />
      <Declaration eventName="AsmVsaFMSnap" account="SecurityStore" />
      <Declaration account="AuditStore" eventName="AsmIfxAuditApp" retentionInDays="120" />
      <Declaration account="AuditStore" eventName="AsmIfxAuditMgmt" retentionInDays="120" />
      <Declaration eventName="DefaultEvent" />
      <Declaration eventName="KubeProbeActivity" />
      <Declaration eventName="EnvRegActivity" />
      <Declaration eventName="ComputeProvActivity" />
      <Declaration eventName="ContainerPoolActivity" />
      <Declaration eventName="SignlrActivity" />
      <Declaration eventName="VsoBiActivity" />
    </EventDeclarations>
    <FileMonitors storeType="CentralBond">
      <FileWatchItem account="SecurityStore" eventName="AsmVsaFMSnap" container="shava-snapshots">
        <Directory>/var/lib/vsanodescan/snapshots/</Directory>
      </FileWatchItem>
    </FileMonitors>
  </Events>
  <EventStreamingAnnotations>
    <EventStreamingAnnotation name="^LinuxAsm.*$">
      <Cosmos>
        <Content><![CDATA[ <Config /> ]]></Content>
      </Cosmos>
    </EventStreamingAnnotation>
    <EventStreamingAnnotation name="^DefaultEvent$">
      <LogAnalytics>
        <Content>LogAnalyticsContent</Content>
      </LogAnalytics>
    </EventStreamingAnnotation>
    <EventStreamingAnnotation name="^EnvRegActivity$">
      <LogAnalytics>
        <Content>LogAnalyticsContent</Content>
      </LogAnalytics>
    </EventStreamingAnnotation>
    <EventStreamingAnnotation name="^ComputeProvActivity$">
      <LogAnalytics>
        <Content>LogAnalyticsContent</Content>
      </LogAnalytics>
    </EventStreamingAnnotation>
    <EventStreamingAnnotation name="^ContainerPoolActivity$">
      <LogAnalytics>
        <Content>LogAnalyticsContent</Content>
      </LogAnalytics>
    </EventStreamingAnnotation>
    <EventStreamingAnnotation name="^SignlrActivity$">
      <LogAnalytics>
        <Content>LogAnalyticsContent</Content>
      </LogAnalytics>
    </EventStreamingAnnotation>
    <EventStreamingAnnotation name="^VsoBiActivity$">
      <LogAnalytics>
        <Content>LogAnalyticsContent</Content>
      </LogAnalytics>
    </EventStreamingAnnotation>
  </EventStreamingAnnotations>
</MonitoringManagement>