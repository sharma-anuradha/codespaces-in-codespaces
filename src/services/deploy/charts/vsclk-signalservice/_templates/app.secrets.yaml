apiVersion: v1
kind: Secret
metadata:
  name: {{ template "vsclk-signalservice.fullname" . }}-settings
  {{ template "labels" . }}
type: Opaque
data:
  ASPNETCORE_ENVIRONMENT: {{ .Values.config.aspNetEnv | b64enc }}
  AppSettings__Stamp: {{ .Values.stamp | b64enc }}
  AppSettings__BaseUri: {{ .Values.baseUri | b64enc }}
  AppSettings__ImageTag: {{ .Values.image.tag | b64enc }}
  AppSettings__AuthenticateProfileServiceUri: {{ .Values.authentication.authenticateProfileServiceUri | b64enc }}
  AppSettings__KeyVaultName: {{ .Values.config.keyVaultName | b64enc }}
  AppSettings__AzureCosmosDbEndpointUrl: '![kvb64=Config-AzureCosmosDbHost]!'
  AppSettings__AzureCosmosDbAuthKey: '![kvb64=Config-AzureCosmosDbAuthKey]!'
  ApplicationServicePrincipal__ClientId: {{ .Values.config.clientId | b64enc }}
  ApplicationServicePrincipal__ClientPassword: '![kvb64=app-sp-password]!'

# add this to enable the AzureRedisConnection config
#  AppSettings__AzureRedisConnection: '![kvb64=Config-RedisConnectionString]!'
