# Default values for the vsclk-enverg-webapi chart

pods:
  replicaCount: 1
  maxReplicaCount: 5
  minReadySeconds: 1
  progressDeadlineSeconds: 300
  livenessProbePath:
  readinessProbePath:
  targetCpuUtilizationPercentage: 60

image:
  tag:
  repositoryUrl:
  repositoryName: vsclk.envreg.webapi
  pullPolicy: IfNotPresent
  imagePullSecret:

service:
  name: envreg
  type: ClusterIP
  externalPort: 80
  internalPort: 80

ingress:
  enabled: true
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /api/$1
  path: /api/environment/?(.*)

appSettings:
- ASPNETCORE_ENVIRONMENT
- ENVREG_AppSettings__AuthJwtAudiences
- ENVREG_AppSettings__AuthJwtAuthority
- ENVREG_AppSettings__VsClkEnvRegDbHost
- ENVREG_AppSettings__VsClkEnvRegDbKey
- ENVREG_AppSettings__VsClkEnvRegPreferredLocation
- ENVREG_AppSettings__VsClkEnvRegDbId
- ENVREG_AppSettings__KeyVaultName
- ENVREG_AppSettings__VsClkRedisConnectionString
- ENVREG_AppSettings__ComputeServiceUrl
- ENVREG_AppSettings__PreferredSchema
- ENVREG_AppSettings__DefaultHost
- ENVREG_AppSettings__DefaultPath
- ENVREG_AppSettings__StorageAccountName
- ENVREG_AppSettings__StorageAccountKey
- ENVREG_AppSettings__VsLiveShareApiEndpoint

authentication:
  authority: https://login.windows.net/common
  
config:
  databaseId: environment-registration
  dbPreferredLocation: eastus
  computeServiceUrl: http://computeprovisioning
  clusterPreferredSchema: https
  clusterDefaultPath: /api/environment
  vsLiveShareApiEndpoint: https://insiders-stg.liveshare.vsengsaas.visualstudio.com/api/v1.2/
