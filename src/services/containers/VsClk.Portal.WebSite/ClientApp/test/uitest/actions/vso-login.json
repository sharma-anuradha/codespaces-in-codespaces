{
    "actions": [
        {
            "name": "navigate",
            "target": "main",
            "params": {
                "url": "{{TEST_URL}}/login"
            }
        },
        {
            "name": "click",
            "target": "main",
            "params": {
                "button": "left",
                "modifiers": 0,
                "clickCount": 1,
                "selector": {
                    "one": "zs=\"Sign in\"^^^",
                    "all": [
                        "zs=\"Sign in\"^^^",
                        "css=.ms-Button",
                        "xpath=//button[normalize-space(.)='Sign in']"
                    ]
                }
            },
            "signals": [
                {
                    "name": "popup",
                    "checked": true,
                    "popup": "elk"
                },
                {
                    "name": "node",
                    "selector": {
                        "one": "zs=\"Signing in...\"^",
                        "all": [
                            "zs=\"Signing in...\"^"
                        ]
                    },
                    "checked": true
                }
            ]
        },
        {
            "name": "click",
            "target": "elk",
            "params": {
                "button": "left",
                "modifiers": 0,
                "clickCount": 1,
                "selector": {
                    "one": "id=i0116",
                    "all": [
                        "id=i0116",
                        "zs=\"Email, phone, or Skype\"",
                        "css=#i0116",
                        "xpath=//input[normalize-space(@aria-label)='Enter your email, phone, or Skype.' and normalize-space(@placeholder)='Email, phone, or Skype' and normalize-space(@type)='email' and normalize-space(@name)='loginfmt']"
                    ]
                }
            }
        },
        {
            "name": "fill",
            "target": "elk",
            "params": {
                "selector": {
                    "one": "id=i0116",
                    "all": [
                        "id=i0116",
                        "zs=\"Email, phone, or Skype\"",
                        "css=#i0116",
                        "xpath=//input[normalize-space(@aria-label)='Enter your email, phone, or Skype.' and normalize-space(@placeholder)='Email, phone, or Skype' and normalize-space(@type)='email' and normalize-space(@name)='loginfmt']"
                    ]
                },
                "text": "{{TEST_USER}}"
            },
            "signals": [
                {
                    "name": "network",
                    "checked": false,
                    "url": {
                        "url": "https://aadcdn.msftauth.net/ests/2.1/content/cdnbundles/ux.converged.login.strings-en.min_-g3sdi0fgdii-teo2nkrta2.js",
                        "allowExtraQueryParams": false
                    },
                    "method": "GET",
                    "status": 200
                },
                {
                    "name": "network",
                    "checked": false,
                    "url": {
                        "url": "https://aadcdn.msftauth.net/ests/2.1/content/cdnbundles/converged.v2.login.min_k6vcupdeent1wwpsw5wt2g2.css",
                        "allowExtraQueryParams": false
                    },
                    "method": "GET",
                    "status": 200
                }
            ]
        },
        {
            "name": "click",
            "target": "elk",
            "params": {
                "button": "left",
                "modifiers": 0,
                "clickCount": 1,
                "selector": {
                    "one": "zs=\"Back\"~INPUT#1",
                    "all": [
                        "id=idSIButton9",
                        "zs=\"Back\"~INPUT#1",
                        "css=#idSIButton9",
                        "xpath=//input[normalize-space(@type)='submit' and normalize-space(@value)='Next']"
                    ]
                }
            },
            "signals": [
                {
                    "name": "navigation",
                    "checked": false,
                    "url": {
                        "url": "https://login.live.com/oauth20_authorize.srf?client_id=a3037261-2c94-4a2e-b53f-090f6cdd712a&scope=email+openid+offline_access+api%3a%2f%2f9db1d849-f699-4cfb-8160-64bed3335c72%2fAll+openid+profile&redirect_uri=https%3a%2f%2fonline.visualstudio.com&response_type=id_token&state=40cd78ba-05f6-41cf-a2bc-0de5849a495f&response_mode=fragment&nonce=5752e924-2732-4b87-b383-9663bdab9140&x-client-SKU=MSAL.JS&x-client-Ver=1.1.3&uaid=e88c98196cac45d58ef0b0d92f7454df&msproxy=1&issuer=mso&tenant=common&ui_locales=en&client_info=1&username=vsls-bot%40outlook.com",
                        "allowExtraQueryParams": true
                    }
                },
                {
                    "name": "network",
                    "checked": false,
                    "url": {
                        "url": "https://login.live.com/oauth20_authorize.srf?client_id=a3037261-2c94-4a2e-b53f-090f6cdd712a&scope=email+openid+offline_access+api%3a%2f%2f9db1d849-f699-4cfb-8160-64bed3335c72%2fAll+openid+profile&redirect_uri=https%3a%2f%2fonline.visualstudio.com&response_type=id_token&state=40cd78ba-05f6-41cf-a2bc-0de5849a495f&response_mode=fragment&nonce=5752e924-2732-4b87-b383-9663bdab9140&x-client-SKU=MSAL.JS&x-client-Ver=1.1.3&uaid=e88c98196cac45d58ef0b0d92f7454df&msproxy=1&issuer=mso&tenant=common&ui_locales=en&client_info=1&username=vsls-bot%40outlook.com",
                        "allowExtraQueryParams": false
                    },
                    "method": "GET",
                    "status": 200
                },
                {
                    "name": "pushState",
                    "checked": false,
                    "url": {
                        "url": "https://login.live.com/oauth20_authorize.srf?client_id=a3037261-2c94-4a2e-b53f-090f6cdd712a&scope=email+openid+offline_access+api%3a%2f%2f9db1d849-f699-4cfb-8160-64bed3335c72%2fAll+openid+profile&redirect_uri=https%3a%2f%2fonline.visualstudio.com&response_type=id_token&state=40cd78ba-05f6-41cf-a2bc-0de5849a495f&response_mode=fragment&nonce=5752e924-2732-4b87-b383-9663bdab9140&x-client-SKU=MSAL.JS&x-client-Ver=1.1.3&uaid=e88c98196cac45d58ef0b0d92f7454df&msproxy=1&issuer=mso&tenant=common&ui_locales=en&client_info=1&username=vsls-bot%40outlook.com",
                        "allowExtraQueryParams": false
                    }
                },
                {
                    "name": "pushState",
                    "checked": false,
                    "url": {
                        "url": "https://login.live.com/oauth20_authorize.srf?client_id=a3037261-2c94-4a2e-b53f-090f6cdd712a&scope=email+openid+offline_access+api%3a%2f%2f9db1d849-f699-4cfb-8160-64bed3335c72%2fAll+openid+profile&redirect_uri=https%3a%2f%2fonline.visualstudio.com&response_type=id_token&state=40cd78ba-05f6-41cf-a2bc-0de5849a495f&response_mode=fragment&nonce=5752e924-2732-4b87-b383-9663bdab9140&x-client-SKU=MSAL.JS&x-client-Ver=1.1.3&uaid=e88c98196cac45d58ef0b0d92f7454df&msproxy=1&issuer=mso&tenant=common&ui_locales=en&client_info=1&username=vsls-bot%40outlook.com",
                        "allowExtraQueryParams": false
                    }
                }
            ]
        },
        {
            "name": "click",
            "target": "elk",
            "params": {
                "button": "left",
                "modifiers": 0,
                "clickCount": 1,
                "selector": {
                    "one": "zs=\"Password\"",
                    "all": [
                        "id=i0118",
                        "zs=\"Password\"",
                        "css=#i0118",
                        "xpath=//input[normalize-space(@aria-label)='Enter the password for {{TEST_USER}}' and normalize-space(@placeholder)='Password' and normalize-space(@type)='password' and normalize-space(@name)='passwd']"
                    ]
                }
            },
            "signals": []
        },
        {
            "name": "fill",
            "target": "elk",
            "params": {
                "selector": {
                    "one": "zs=\"Password\"",
                    "all": [
                        "id=i0118",
                        "zs=\"Password\"",
                        "css=#i0118",
                        "xpath=//input[normalize-space(@aria-label)='Enter the password for {{TEST_USER}}' and normalize-space(@placeholder)='Password' and normalize-space(@type)='password' and normalize-space(@name)='passwd']"
                    ]
                },
                "text": "{{TEST_PASSWORD}}"
            },
            "signals": []
        },
        {
            "name": "click",
            "target": "elk",
            "params": {
                "button": "left",
                "modifiers": 0,
                "clickCount": 1,
                "selector": {
                    "one": "id=idSIButton9",
                    "all": [
                        "id=idSIButton9",
                        "zs=\"Forgot password?\"~INPUT",
                        "css=#idSIButton9",
                        "xpath=//input[normalize-space(@type)='submit' and normalize-space(@value)='Sign in']"
                    ]
                }
            },
            "signals": [
                {
                    "name": "navigation",
                    "checked": true,
                    "url": {
                        "url": "{{TEST_URL}}/",
                        "allowExtraQueryParams": false
                    }
                },
                {
                    "name": "network",
                    "checked": false,
                    "url": {
                        "url": "{{TEST_URL}}/",
                        "allowExtraQueryParams": false
                    },
                    "method": "GET",
                    "status": 200
                }
            ]
        },
        {
            "name": "navigate",
            "target": "main",
            "params": {
                "url": "{{TEST_URL}}/environments"
            },
            "signals": [
                {
                    "name": "navigation",
                    "checked": true,
                    "url": {
                        "url": "{{TEST_URL}}/environments",
                        "allowExtraQueryParams": false
                    }
                },
                {
                    "name": "pushState",
                    "checked": false,
                    "url": {
                        "url": "{{TEST_URL}}/login",
                        "allowExtraQueryParams": false
                    }
                }
            ]
        }
    ]
}